import{d as i,l as o,a as u}from"./HttpRequest-7fd341b5.js";import{_ as g,o as n,c as d,b as e,F as l,k as m,t as r,a as f,p as I,j as v}from"./index-aec3a869.js";const b={name:"Shopping",data(){return{shopping:[{id:"",price:"",sname:""}]}},methods:{buy(t){i("/shop/buy",{sid:t,uid:JSON.parse(window.localStorage.getItem("userInfo")).uid}).then(s=>{s.data.code==1e3?o.msg("购买成功",{dialogIcon:"success"}):o.msg(s.data.msg,{dialogIcon:"error"})})},addCart(t){i("/cart/insert",{sid:t,uid:JSON.parse(window.localStorage.getItem("userInfo")).uid}).then(s=>{s.data.code==1e3?o.msg("加入购物车成功",{dialogIcon:"success"}):o.msg("系统繁忙",{dialogIcon:"error"})})}},mounted(){u("/shop/getAll").then(t=>{t.data.code==1e3&&(this.shopping=t.data.list)})}},p=t=>(I("data-v-a74fb473"),t=t(),v(),t),y=p(()=>e("h1",null,"商城",-1)),S=p(()=>e("thead",null,[e("tr",null,[e("th",{class:"c1"},"商品名称"),e("th",null,"价格"),e("th",{class:"c2"},"操作")])],-1)),k={class:"c1"},x={class:"c2"},C=["onClick"],w=["onClick"];function N(t,s,j,B,_,c){return n(),d(l,null,[y,e("div",null,[e("table",null,[S,e("tbody",null,[(n(!0),d(l,null,m(_.shopping,a=>(n(),d("tr",{key:a.id},[e("th",k,r(a.sname),1),e("th",null,r(a.price),1),e("th",x,[e("a",{href:"javascript:void(0)",onClick:h=>c.buy(a.id)},"购买",8,C),f("  "),e("a",{href:"javascript:void(0)",onClick:h=>c.addCart(a.id)},"加入购物车",8,w)])]))),128))])])])],64)}const J=g(b,[["render",N],["__scopeId","data-v-a74fb473"]]);export{J as default};
